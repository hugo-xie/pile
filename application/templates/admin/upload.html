{% extends 'admin/master.html' %}

{% block body %}

<div>
    <div class="alert alert-danger" role="alert" id="alertBox" hidden="true">
      <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
      <span class="sr-only">Error:</span>
      <span id="errorMessage"></span>
    </div>

    <div class="alert alert-success" role="alert" id="infoBox">
      <span class="glyphicon glyphicon-check" aria-hidden="true"></span>
      <span class="sr-only">File uploaded!</span>
      <span id="successMessage"></span>
    </div>

    <div class="row">
        <div class="col-md-5">
          <label for="filePicker">Choose or drag a file:</label><br>
          <input type="file" id="filePicker">
        </div>
    </div>
    <br>

    <div class="row" id="basicInfo" hidden="true">
        <div class="col-md-5">
            <h4>
                Application Information
            </h4>
            <table class="table table-striped">
                <tbody>
                    <tr>
                        <td>Version</td>
                        <td><code id="imageVersion">0x00</code></td>
                    </tr>
                    <tr>
                        <td>Base Address</td>
                        <td><code id="imageBase">0x00</code></td>
                    </tr>
                    <tr>
                        <td>Binary Size</td>
                        <td><code id="imageBinarySize">0</code></td>
                    </tr>
                    <tr>
                        <td>MD5 Checksum (HEX file)</td>
                        <td><code id="imageMd5">0x00</code></td>
                    </tr>
                    <tr>
                        <td>MD5 Checksum (Binary data)</td>
                        <td><code id="imageBinaryMd5">0x00</code></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="row">
      <div class="col-md-5">
        <div class="progress">
            <div class="progress-bar" role="progressbar" id="progressBar"
              aria-valuenow="90" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: 1%;">
                <span>1%</span>
            </div>
        </div>
      </div>
    </div>

    <div class="row" id="buttons" hidden="true">
        <div class="col-md-5">
            <div class="pull-right">
                <button id="btnReset" type="button" class="btn btn-default" onclick="reset();">Reset</button> 
                <button id="btnCancel" type="button" class="btn btn-danger" onclick="cancel();">Cancel</button>
                <button id="btnUpload" type="button" class="btn btn-primary" onclick="upload();">Upload</button>
            </div>
        </div>
    </div>
    <!-- <div>
        <h1>Base64 encoded version</h1>
        <textarea id="base64textarea" placeholder="Base64 will appear here" cols="50" rows="15"></textarea>
        </div> -->
</div>
{% endblock %}

{% block tail %}
<script type="text/javascript" src="/static/md5.js"></script>
<script type="text/javascript" src="/static/intelhex.js"></script>
<script type="text/javascript" src="/static/uploader.js"></script>
{% endblock %}
